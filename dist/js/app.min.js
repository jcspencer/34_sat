/*!
 * 3/4 Informatics SAT (James Spencer) v0.0.1
 * Copyright 2016 James Spencer
 * License: All Rights Reserved
 */
jQuery(document).ready(function(s){var i=1170;if(s(window).width()>i){var a=s(".navbar-custom").height();s(window).on("scroll",{previousTop:0},function(){var i=s(window).scrollTop();i<this.previousTop?i>0&&s(".navbar-custom").hasClass("is-fixed")?s(".navbar-custom").addClass("is-visible"):s(".navbar-custom").removeClass("is-visible is-fixed"):i>this.previousTop&&(s(".navbar-custom").removeClass("is-visible"),i>a&&!s(".navbar-custom").hasClass("is-fixed")&&s(".navbar-custom").addClass("is-fixed")),this.previousTop=i})}});
var margin={top:20,right:20,bottom:70,left:40},width=600-margin.left-margin.right,height=300-margin.top-margin.bottom,parseDate=d3.time.format("%Y-%m").parse,x=d3.scale.ordinal().rangeRoundBands([0,width],.05),y=d3.scale.linear().range([height,0]),xAxis=d3.svg.axis().scale(x).orient("bottom").tickFormat(d3.time.format("%Y-%m")),yAxis=d3.svg.axis().scale(y).orient("left").ticks(10),svg=d3.select("#barchart").append("svg").attr("width",width+margin.left+margin.right).attr("height",height+margin.top+margin.bottom).append("g").attr("transform","translate("+margin.left+","+margin.top+")");d3.csv("bar-data.csv",function(t,a){a.forEach(function(t){t.date=parseDate(t.date),t.value=+t.value}),x.domain(a.map(function(t){return t.date})),y.domain([0,d3.max(a,function(t){return t.value})]),svg.append("g").attr("class","x axis").attr("transform","translate(0,"+height+")").call(xAxis).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy","-.55em").attr("transform","rotate(-90)"),svg.append("g").attr("class","y axis").call(yAxis).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text("Value ($)"),svg.selectAll("bar").data(a).enter().append("rect").style("fill","steelblue").attr("x",function(t){return x(t.date)}).attr("width",x.rangeBand()).attr("y",function(t){return y(t.value)}).attr("height",function(t){return height-y(t.value)})});
var url="https://rawgit.com/jcspencer/c6c803b8a29e67492dac714b8cde2f22/raw/2f654599c4cb9d9c72a9af887b7951238ed9c500/out.geo.json",opts={center:[-37,144],zoom:6,dragging:!1,scrollWheelZoom:!1},map=new L.Map("map",opts).addLayer(new L.TileLayer("http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png")),svg=d3.select(map.getPanes().overlayPane).append("svg"),g=svg.append("g").attr("class","leaflet-zoom-hide"),tip=d3.tip().attr("class","d3-tip").offset([-10,0]).html(function(t){return"<strong>Average: "+t.properties.NAME+" </strong></span>"});svg.call(tip),d3.json(url,function(t,e){function a(t){alert("you just clicked me")}function o(){var t=s.bounds(e),a=t[0],o=t[1];svg.attr("width",o[0]-a[0]).attr("height",o[1]-a[1]).style("left",a[0]+"px").style("top",a[1]+"px"),g.attr("transform","translate("+-a[0]+","+-a[1]+")"),p.attr("d",s)}function r(t,e){var a=map.latLngToLayerPoint(new L.LatLng(e,t));this.stream.point(a.x,a.y)}if(t)throw t;var n=d3.geo.transform({point:r}),s=d3.geo.path().projection(n),p=g.selectAll("path").data(e.features).enter().append("path").attr("class","n").attr("class",function(t){return"region_"+t.properties.NAME}).on("mouseover",tip.show).on("mouseout",tip.hide).on("click",a);map.on("viewreset",o),o()});
+function(t){"use strict";var e=function(i,s){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,s),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("sidebar-open")){var e=t.Event("show.bs.sidebar");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.$element.addClass("sidebar-open"),this.transitioning=1;var i=function(){this.$element,this.transitioning=0,this.$element.trigger("shown.bs.sidebar")};return t.support.transition?void this.$element.one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(400):i.call(this)}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("sidebar-open")){var e=t.Event("hide.bs.sidebar");if(this.$element.trigger(e),!e.isDefaultPrevented()){this.$element.removeClass("sidebar-open"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.sidebar")};return t.support.transition?void this.$element.one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(400):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("sidebar-open")?"hide":"show"]()};var i=t.fn.sidebar;t.fn.sidebar=function(i){return this.each(function(){var s=t(this),n=s.data("bs.sidebar"),a=t.extend({},e.DEFAULTS,s.data(),"object"==typeof a&&i);!n&&a.toggle&&"show"==i&&(i=!i),n||s.data("bs.sidebar",n=new e(this,a)),"string"==typeof i&&n[i]()})},t.fn.sidebar.Constructor=e,t.fn.sidebar.noConflict=function(){return t.fn.sidebar=i,this},t(document).on("click.bs.sidebar.data-api",'[data-toggle="sidebar"]',function(e){var i,s=t(this),n=s.attr("data-target")||e.preventDefault()||(i=s.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(n),r=a.data("bs.sidebar"),o=r?"toggle":s.data();a.sidebar(o)}),t("html").on("click.bs.sidebar.autohide",function(e){var i=t(e.target),s=i.is('.sidebar, [data-toggle="sidebar"]')||i.parents('.sidebar, [data-toggle="sidebar"]').length;if(!s){var n=t(".sidebar");n.each(function(e,i){var s=t(i);s.data("bs.sidebar")&&s.hasClass("sidebar-open")&&s.sidebar("hide")})}})}(jQuery);